<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class FluorescenceEmissionAOfRhoAndZSourceInput
 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class FluorescenceEmissionAOfRhoAndZSourceInput
 ">
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/VirtualPhotonics/VTS/new/master/apiSpec/new?filename=Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput.md&amp;value=---%0Auid%3A%20Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
  </head>

  <script type="module">
    import options from './../public/main.js'
    import { init } from './../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput">



  <h1 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput" class="text-break">
    Class FluorescenceEmissionAOfRhoAndZSourceInput
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L23"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Vts.html">Vts</a>.<a class="xref" href="Vts.MonteCarlo.html">MonteCarlo</a>.<a class="xref" href="Vts.MonteCarlo.Sources.html">Sources</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Vts.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Implements ISourceInput. Defines input data for FluorescenceEmissionAOfRhoAndZSource
implementation.  This source reads the Cartesian coordinate absorbed energy results of a
prior simulation and uses it to generate an emission source.  There are two methods
used to sample the absorbed energy: CDF or Uniform.
Using the CDF method, a probability density function (PDF) and resulting cumulative
function (CDF) is determined from the absorbed energy map.  Then the number of photons
launched from each fluorescent voxel is determined probabilistically from sampling the CDF.
And the weight of each photon is set to the total absorbed energy of the fluorescing region
because if N photons are launched the results are normalized by N producing back the total
absorbed energy.
Using the Uniform method, the same number of photons is sent out from each voxel with weight equal
to the absorbed energy of that voxel.  HOWEVER, the results of a multiple voxel source
CANNOT be combined because the initial weight is different  So if the fluorescing region
has more than 1 voxel, each voxel must be simulated with a different simulation (possibly
using the parallel MC).</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class FluorescenceEmissionAOfRhoAndZSourceInput : ISourceInput</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">FluorescenceEmissionAOfRhoAndZSourceInput</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="Vts.MonteCarlo.ISourceInput.html">ISourceInput</a></div>
    </dd>
  </dl>


  <dl class="typelist derived">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="Vts.Extensions.EnumerableExtensions.html#Vts_Extensions_EnumerableExtensions_AsEnumerable__1___0_">EnumerableExtensions.AsEnumerable&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="Vts.Extensions.IEnumerableArrayExtensions.html#Vts_Extensions_IEnumerableArrayExtensions_PopulateFromEnumerable2__2___1_System_Collections_Generic_IEnumerable___0__">IEnumerableArrayExtensions.PopulateFromEnumerable2&lt;T, TArray&gt;(TArray, IEnumerable&lt;T&gt;)</a>
  </div>
  <div>
      <a class="xref" href="Vts.IO.FileIO.html#Vts_IO_FileIO_Clone__1___0_">FileIO.Clone&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="Vts.IO.FileIO.html#Vts_IO_FileIO_WriteJsonToStream__1___0_System_IO_Stream_">FileIO.WriteJsonToStream&lt;T&gt;(T, Stream)</a>
  </div>
  <div>
      <a class="xref" href="Vts.IO.FileIO.html#Vts_IO_FileIO_WriteToJson__1___0_System_String_">FileIO.WriteToJson&lt;T&gt;(T, string)</a>
  </div>
  <div>
      <a class="xref" href="Vts.IO.FileIO.html#Vts_IO_FileIO_WriteToXMLStream__1___0_System_IO_Stream_">FileIO.WriteToXMLStream&lt;T&gt;(T, Stream)</a>
  </div>
  <div>
      <a class="xref" href="Vts.IO.FileIO.html#Vts_IO_FileIO_WriteToXML__1___0_System_String_">FileIO.WriteToXML&lt;T&gt;(T, string)</a>
  </div>
  <div>
      <a class="xref" href="Vts.IO.VtsJsonSerializer.html#Vts_IO_VtsJsonSerializer_WriteToJsonFile__1___0_System_String_">VtsJsonSerializer.WriteToJsonFile&lt;T&gt;(T, string)</a>
  </div>
  <div>
      <a class="xref" href="Vts.IO.VtsJsonSerializer.html#Vts_IO_VtsJsonSerializer_WriteToJson__1___0_">VtsJsonSerializer.WriteToJson&lt;T&gt;(T)</a>
  </div>
  </dd></dl>





  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput__ctor_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.#ctor*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput__ctor" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.#ctor">
  FluorescenceEmissionAOfRhoAndZSourceInput()
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L46"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes the default constructor of FluorescenceEmissionAOfRhoAndZSourceInput class</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public FluorescenceEmissionAOfRhoAndZSourceInput()</code></pre>
  </div>













  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput__ctor_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.#ctor*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput__ctor_System_String_System_String_System_Int32_Vts_MonteCarlo_SourcePositionSamplingType_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.#ctor(System.String,System.String,System.Int32,Vts.MonteCarlo.SourcePositionSamplingType)">
  FluorescenceEmissionAOfRhoAndZSourceInput(string, string, int, SourcePositionSamplingType)
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L32"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of FluorescenceEmissionAOfRhoAndZSourceInput class</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public FluorescenceEmissionAOfRhoAndZSourceInput(string inputFolder, string infile, int initialTissueRegionIndex, SourcePositionSamplingType samplingMethod)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>inputFolder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>Folder where AOfRhoAndZ resides</p>
</dd>
    <dt><code>infile</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>Infile for simulation that generated AOfRhoAndZ</p>
</dd>
    <dt><code>initialTissueRegionIndex</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Tissue region of fluorescence</p>
</dd>
    <dt><code>samplingMethod</code> <a class="xref" href="Vts.MonteCarlo.SourcePositionSamplingType.html">SourcePositionSamplingType</a></dt>
    <dd><p>sample initial position: CDF from AE or Uniform</p>
</dd>
  </dl>












  <h2 class="section" id="properties">Properties
</h2>


  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_Infile_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.Infile*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_Infile" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.Infile">
  Infile
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L60"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Infile that generated AOfRhoAndZ</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Infile { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_InitialTissueRegionIndex_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.InitialTissueRegionIndex*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_InitialTissueRegionIndex" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.InitialTissueRegionIndex">
  InitialTissueRegionIndex
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L64"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initial tissue region index = tissue region index of fluorescence</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int InitialTissueRegionIndex { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_InputFolder_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.InputFolder*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_InputFolder" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.InputFolder">
  InputFolder
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L56"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Input folder where AE(x,y,z) resides</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string InputFolder { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_SamplingMethod_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.SamplingMethod*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_SamplingMethod" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.SamplingMethod">
  SamplingMethod
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L68"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Sampling method for location and associated weight</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SourcePositionSamplingType SamplingMethod { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Vts.MonteCarlo.SourcePositionSamplingType.html">SourcePositionSamplingType</a></dt>
    <dd></dd>
  </dl>








  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_SourceType_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.SourceType*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_SourceType" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.SourceType">
  SourceType
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L52"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>fluorescence emission source type</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string SourceType { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_CreateSource_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.CreateSource*"></a>

  <h3 id="Vts_MonteCarlo_Sources_FluorescenceEmissionAOfRhoAndZSourceInput_CreateSource_System_Random_" data-uid="Vts.MonteCarlo.Sources.FluorescenceEmissionAOfRhoAndZSourceInput.CreateSource(System.Random)">
  CreateSource(Random)
  <a class="header-action link-secondary" title="View source" href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L75"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Required code to create a source based on the input values</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ISource CreateSource(Random rng = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>rng</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.random">Random</a></dt>
    <dd><p>random number generator</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Vts.MonteCarlo.ISource.html">ISource</a></dt>
    <dd><p>instantiated source</p>
</dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/VirtualPhotonics/VTS/blob/master/src/Vts/MonteCarlo/Sources/VolumetricSources/FluorescenceEmission/FluorescenceEmissionAOfRhoAndZSource.cs/#L23" class="edit-link">Edit this page</a>
        </div>

        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>